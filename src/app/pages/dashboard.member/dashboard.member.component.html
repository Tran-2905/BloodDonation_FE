<div class="dashboard-header">
    <h1>Member Dashboard</h1>
    <div class="dashboard-nav">
        <span>Overview</span>
        <span>Donation History</span>
        <span>Appointments</span>
        <span>Emergency Requests</span>
    </div>
</div>

<!-- Overview Cards -->
<div class="dashboard-overview-cards">
    <div class="overview-card">
        <div class="card-title">Total Donations</div>
        <div class="card-value">{{ totalDonations }}</div>
        <div class="card-note">Thank you for your contributions!</div>
    </div>
    <div class="overview-card">
        <div class="card-title">Lives Impacted</div>
        <div class="card-value">{{ livesImpacted }}</div>
        <div class="card-note">Each donation can save up to 3 lives</div>
    </div>
    <div class="overview-card">
        <div class="card-title">Last Donation</div>
        <div class="card-value">{{ lastDonation }}</div>
        <div class="card-note">Your most recent contribution</div>
    </div>
    <div class="overview-card">
        <div class="card-title">Blood Type</div>
        <div class="card-value">{{ bloodType }}</div>
        <div class="card-note">Your blood type information</div>
    </div>
</div>

<!-- Eligible to donate -->
<div class="eligible-card" [class.eligible]="eligibleToDonate">
    <div class="eligible-title">Next Eligible Donation Date</div>
    <div class="eligible-status">
        <span *ngIf="eligibleToDonate" class="status-green">You are eligible to donate now!</span>
        <span *ngIf="!eligibleToDonate" class="status-red">Not eligible yet</span>
        <span class="eligible-note">You've been eligible since {{ eligibleDate }}</span>
    </div>
    <button class="btn-donate">Schedule Donation Now</button>
</div>

<!-- Upcoming Appointments -->
<div class="appointments-card">
    <div class="appointments-title">Upcoming Appointments</div>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Type</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="appointment">
                <td [(ngModel)]="appointment.date">{{ appointment.date }}</td>
                <td [(ngModel)]="appointment.time">{{ appointment.time }}</td>
                <td [(ngModel)]="appointment.type">{{ appointment.type }}</td>
                <td>
                    <span [ngClass]="{
                    'badge-completed': appointment.status === 'Confirmed',
                    'badge-rejected': appointment.status === 'Rejected',
                    'badge-upcoming': appointment.status === 'Pending'
                    }">{{ appointment.status }}</span>
                </td>
            </tr>
            <tr *ngIf="!appointment">
                <td colspan="4">No upcoming appointments</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Donation History -->
<div class="history-card">
    <div class="history-title">Recent Donation History</div>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Type</th>
                <th>Location</th>
                <th>Units</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let donation of donationHistory">
                <td>{{ donation.date }}</td>
                <td>{{ donation.type }}</td>
                <td>{{ donation.location }}</td>
                <td>{{ donation.units }}</td>
                <td>
                    <span [class.badge-completed]="donation.status === 'Completed'">{{ donation.status }}</span>
                </td>
            </tr>
        </tbody>
    </table>
</div>